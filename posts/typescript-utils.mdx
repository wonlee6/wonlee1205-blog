---
title: 'TypeScript ìœ í‹¸ë¦¬í‹° íƒ€ì… ì •ë¦¬'
date: '2024-06-29'
tags: ['typescript']
description: 'ìì£¼ ì‚¬ìš©í•˜ëŠ” TypeScript ìœ í‹¸ íƒ€ì…ê³¼ ì„¤ëª…'
---

TypeScriptë¥¼ ì‚¬ìš©í•  ë•Œ ìì£¼ í™œìš©í•  ìˆ˜ ìˆëŠ” ìœ í‹¸ë¦¬í‹° íƒ€ì…ë“¤ì„ ì •ë¦¬í•´ë´…ë‹ˆë‹¤. ì‹¤ë¬´ì—ì„œ ìœ ìš©í•˜ê²Œ ì“°ì¼ ìˆ˜ ìˆëŠ” ì»¤ìŠ¤í…€ íƒ€ì…ë“¤ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## ğŸ“Œ 1. `one<T>` â€” ê°ì²´ì˜ ê° í‚¤ë¥¼ ë‹¨ë… ê°ì²´ë¡œ ë¶„ë¦¬

```ts showLineNumbers
type one<T> = { [P in keyof T]: Record<P, T[P]> }[keyof T]
```

âœ… ì„¤ëª…

1. `[P in keyof T]` ì—ì„œ TëŠ” ê°ì²´ë¡œ ê°€ì •í•˜ê¸° ë•Œë¬¸ì— PëŠ” Tê°ì²´ì˜ í‚¤ ê°’ì„ ë§í•œë‹¤.
2. `Record<P, T[P]>`ëŠ” Píƒ€ì…ì„ í‚¤ë¡œ ê°–ê³ , valueëŠ” Pë¥¼ í‚¤ë¡œ ë‘” Tê°ì²´ì˜ ê°’ì˜ ë ˆì½”ë“œ íƒ€ì…
3. ë”°ë¼ì„œ `{[P in keyof T]: Record<P, T[P]>}` ì—ì„œ í‚¤ëŠ” T ê°ì²´ì˜ í‚¤ ëª¨ìŒì´ê³ , valueëŠ” í•´ë‹¹ í‚¤ì˜ ì›ë³¸ ê°ì²´ T
4. 3ë²ˆì˜ íƒ€ì…ì—ì„œ ë‹¤ì‹œ `[keyof T]` ì˜ í‚¤ê°’ìœ¼ë¡œ ì ‘ê·¼í•˜ê¸° ë•Œë¬¸ì— ìµœì¢… ì „ë‹¬ë°›ì€ ê°’ì€ T

âœ… ì˜ˆì‹œ

```ts showLineNumbers
type User = { name: string; age: number }

// ê²°ê³¼: { name: string } | { age: number }
type OneUser = one<User>
```

## ğŸ“Œ 2. `excludeOne<T>` â€” í•˜ë‚˜ì˜ í‚¤ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë¥¼ `undefined`ë¡œ ì„¤ì •

```ts showLineNumbers
type excludeOne<T> = { [P in keyof T]: Partial<Record<Exclude<keyof T, P>, undefined>> }[keyof T]
```

âœ… ì„¤ëª…

1. `[P in keyof T]` ì—ì„œ TëŠ” ê°ì²´ë¡œ ê°€ì •í•˜ê¸° ë•Œë¬¸ì— PëŠ” Tê°ì²´ì˜ í‚¤ ê°’ì„ ë§í•œë‹¤.
2. `<Exclude<keyof T, P>`ëŠ” Tê°ì²´ê°€ ê°€ì§„ í‚¤ê°’ì—ì„œ Píƒ€ì…ê³¼ ì¼ì¹˜í•˜ëŠ” í‚¤ê°’ì„ ì œì™¸í•œë‹¤. ì´ íƒ€ì…ì„ Aë¼ê³  í•˜ì
3. `Record<A, undefined>` í‚¤ë¡œ Aíƒ€ì…ì„, ê°’ìœ¼ë¡œ `undefined`ë¥¼ ê°–ëŠ” ë ˆì½”ë“œ íƒ€ì…ì„ Bë¼ê³  í•˜ì `{[Key]: undefined}`
4. `Partial<B>`ëŠ” ì˜µì…”ë„ë¡œ ë³€ê²½ : `{[Key]?: undefined} `

âœ… ì˜ˆì‹œ

```ts showLineNumbers
type User = { name: string; age: number }

// ê²°ê³¼:
// { age?: undefined } |
// { name?: undefined }
type ExcludeOneUser = excludeOne<User>
```

## ğŸ“Œ 3. `PickOne<T>` â€” ê°ì²´ì—ì„œ í•˜ë‚˜ì˜ í‚¤ë§Œ í—ˆìš©

```ts showLineNumbers
type PickOne<T> = one<T> & excludeOne<T>
```

âœ… ì„¤ëª…

- `one<T>`ì™€ `excludeOne<T>`ë¥¼ ì¡°í•©í•´,
- ê°ì²´ ë‚´ì—ì„œ ë‹¨ í•˜ë‚˜ì˜ í‚¤ë§Œ ê°’ì´ ì¡´ì¬í•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” `undefined`ë¡œ ì œí•œí•˜ëŠ” íƒ€ì…ì„ ìƒì„±í•©ë‹ˆë‹¤.

âœ… ì˜ˆì‹œ

```ts showLineNumbers
type User = { name: string; age: number }

// ë‹¤ìŒ ë‘ ê²½ìš°ë§Œ í—ˆìš©ë¨:
// { name: string, age?: undefined }
// { age: number, name?: undefined }
type OnlyOneUser = PickOne<User>
```

## ğŸ“Œ 4.` NonNullAble<T>` â€” `null` ë˜ëŠ” `undefined` ì œì™¸

```ts showLineNumbers
type NonNullAble<T> = T extends null | undefined ? never : T
```

âœ… ì„¤ëª…

- Tê°€ `null` ë˜ëŠ” `undefined`ì´ë©´ ì œê±°í•©ë‹ˆë‹¤.

- ìœ ë‹ˆì–¸ íƒ€ì… í•„í„°ë§ ì‹œ ìì£¼ ì‚¬ìš©ë©ë‹ˆë‹¤.

âœ… ì˜ˆì‹œ

```ts showLineNumbers
type Value = string | null | undefined

// ê²°ê³¼: string
type CleanValue = NonNullAble<Value>
```

âœ… ì‹¤ì „ ì‚¬ìš© ì˜ˆ

```ts showLineNumbers
const shopList = shopApiList.filter(NonNullAble)

function NonNullAble<T>(value: T): value is NonNullAble<T> {
  return value !== null && value !== undefined
}
```

## ğŸ“Œ 5. `ReadonlyProps<T>` â€” ëª¨ë“  ì†ì„±ì„ ì½ê¸° ì „ìš©ìœ¼ë¡œ ë³€í™˜

```ts showLineNumbers
type ReadonlyProps<T> = {
  readonly [P in keyof T]: T[P]
}
```

âœ… ì„¤ëª…

- ê°ì²´ì˜ ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ `readonly`ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.

âœ… ì˜ˆì‹œ

```ts showLineNumbers
type User = { name: string; age: number }

// ê²°ê³¼: { readonly name: string; readonly age: number }
type ReadonlyUser = ReadonlyProps<User>
```

> ê¸°ë³¸ ìœ í‹¸ íƒ€ì… `Readonly<T>`ì™€ ë™ì¼í•œ ê¸°ëŠ¥ì´ì§€ë§Œ, ì§ì ‘ êµ¬í˜„í•œ í˜•íƒœì…ë‹ˆë‹¤.

## ğŸ“Œ 6. `PrettifyType<T>` â€” íƒ€ì… êµ¬ì¡°ë¥¼ ì •ë¦¬í•´ì„œ ë³´ê¸° ì‰½ê²Œ í‘œì‹œ

```ts showLineNumbers
type PrettifyType<T> = {
  [K in keyof T]: T[K]
} & {}

type SubType = PrettifyType<NestedType>
```

âœ… ì„¤ëª…

- íƒ€ì… ì‹œìŠ¤í…œ ìƒì—ì„œ ì¤‘ì²©ëœ ì¸ë±ìŠ¤ íƒ€ì… ë˜ëŠ” `&` ì—°ì‚° ë“±ìœ¼ë¡œ ë³µì¡í•˜ê²Œ ë³´ì´ëŠ” íƒ€ì…ì„ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•´ì¤ë‹ˆë‹¤.
- íƒ€ì… ì¶”ë¡  ê²°ê³¼ë¥¼ ì‚¬ëŒì´ ë³´ê¸° ì¢‹ê²Œ **"í‘œë©´í™”(flatten)"**í•©ë‹ˆë‹¤.

âœ… ì˜ˆì‹œ

```ts showLineNumbers
type Nested = { a: string } & { b: number }

// ê²°ê³¼ëŠ” ë³´ê¸° ì¢‹ê²Œ ì •ë¦¬ëœ { a: string; b: number }
type Pretty = PrettifyType<Nested>
```

ì´ëŸ¬í•œ ìœ í‹¸ íƒ€ì…ë“¤ì€ ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œ ìœ ìš©í•˜ê²Œ í™œìš©ë©ë‹ˆë‹¤:

- í¼ ì²˜ë¦¬ ì‹œ ë‹¨ì¼ í•„ë“œ ìœ íš¨ì„± ê²€ì¦: `PickOne`
- API ì‘ë‹µ í•„í„°ë§ ì‹œ null ì œê±°: `NonNullAble`
- íƒ€ì… ì¶”ë¡  ê²°ê³¼ ê¹”ë”í•˜ê²Œ ì •ë¦¬: `PrettifyType`
- ë¶ˆë³€ì„± ìœ ì§€ (read-only ê°ì²´): `ReadonlyProps`

TypeScriptëŠ” íƒ€ì… ì‹œìŠ¤í…œì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ë„êµ¬ë¥¼ ì œê³µí•˜ë©°, ì´ëŸ¬í•œ ìœ í‹¸ íƒ€ì…ì„ ì˜ êµ¬ì„±í•´ë‘ë©´ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ íƒ€ì… ì•ˆì •ì„±ì„ í¬ê²Œ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
